decreaseTotalSupply.t.sol
├── when caller is not the owner
│   └── it should revert
└── when caller is the owner
    ├── when amount is zero
    │   └── it should revert with {TWAB_DECREASE_TOTAL_SUPPLY__INVALID_AMOUNT} error
    └── when amount is not zero
        ├── when balance is insufficient
        │   └── it should revert with {TWAB_DECREASE_TOTAL_SUPPLY__INSUFFICIENT_BALANCE} error
        └── when balance is sufficient
            ├── when cardinality below {MAX_CARDINALITY}
            │   ├── when is a new period
            │   │   ├── it should decrease the total supply account balance by amount   
            │   │   ├── it should increment the total supply account nextObservationIndex by 1   
            │   │   ├── it should increment the total supply account cardinality by 1   
            │   │   ├── it should record a new {Observation} at the correct index
            │   │   ├── it should record a new {Observation} with the updated balance
            │   │   ├── it should record a new {Observation} with the updated cumulativeBalance
            │   │   ├── it should record a new {Observation} with the corresponding timestamp
            │   │   ├── it should emit {TotalSupplyDecreased} event
            │   │   ├── it should emit {ObservationRecorded} event
            │   │   └── it should return the new total supply balance
            │   └── when is not a new period
            │       ├── it should decrease the total supply account balance by amount   
            │       ├── it should not increment the total supply account nextObservationIndex   
            │       ├── it should not increment the total supply account cardinality
            │       ├── it should override the last {Observation}
            │       ├── it should update the last {Observation} with the updated balance
            │       ├── it should update the last {Observation} with the updated cumulativeBalance
            │       ├── it should update the last {Observation} with the corresponding timestamp
            │       ├── it should emit {TotalSupplyDecreased} event
            │       ├── it should emit {ObservationRecorded} event
            │       └── it should return the new total supply balance
            └── when cardinality reach {MAX_CARDINALITY}
                └── when is a new period
                    ├── it should decrease the total supply account balance by amount   
                    ├── it should set the total supply account nextObservationIndex to 1
                    ├── it should not increment the total supply account cardinality  
                    ├── it should record a new {Observation} at index 0
                    ├── it should record a new {Observation} with the updated balance
                    ├── it should record a new {Observation} with the updated cumulativeBalance
                    ├── it should record a new {Observation} with the corresponding timestamp
                    ├── it should emit {TotalSupplyDecreased} event
                    ├── it should emit {ObservationRecorded} event
                    └── it should return the new total supply balance
